<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no"
    />
    <title>Proyecto Navidad</title>

    <link
      href="https://db.onlinewebfonts.com/c/bcd0c9bdcf29c2dd630785c724469553?family=Verlag-Book"
      rel="stylesheet"
    />
    <link
      href="https://db.onlinewebfonts.com/c/ddee8efcace361d6aab1d9b0473cd521?family=Verlag-Light"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="css/style.css" />

    <link
      rel="icon"
      href="data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'&gt;&lt;text y='0.9em' font-size='90'&gt;ðŸŽ&lt;/text&gt;&lt;/svg&gt;"
    />
  </head>
  <body>
    <div class="vignette"></div>
    <div id="fade-overlay"></div>

    <audio id="audio-bgm" loop preload="auto"></audio>
    <audio id="audio-bgm-final" loop preload="auto"></audio>
    <audio id="audio-narration" preload="auto"></audio>

    <main id="app-root"></main>

    <script type="module">
      // Importa las funciones que necesitamos
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";

      // --- Â¡Â¡CORRECCIÃ“N!! ---
      import {
        getAuth,
        onAuthStateChanged,
        signInAnonymously, // <-- ARQUITECTURA ANÃ“NIMA
      } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js";

      import {
        getFirestore,
        doc,
        setDoc,
        getDoc,
        collection,
        addDoc,
      } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";

      // Pasa tu config a nuestro nuevo mÃ³dulo `firebase-manager.js`
      window.firebaseSDK = {
        initializeApp,
        getAuth,
        onAuthStateChanged,
        signInAnonymously, // <-- ARQUITECTURA ANÃ“NIMA
        getFirestore,
        doc,
        setDoc,
        getDoc,
        collection,
        addDoc,

        // --- TU NUEVO firebaseConfig ---
        firebaseConfig: {
          apiKey: "AIzaSyBAv3HFQifOmS78tRYvo8yM4Um_PX0d_sk",
          authDomain: "regalonavidad-9304b.firebaseapp.com",
          projectId: "regalonavidad-9304b",
          storageBucket: "regalonavidad-9304b.firebasestorage.app",
          messagingSenderId: "920626025677",
          appId: "1:920626025677:web:ee800a9860410818fc0584",
        },
        // -------------------------------
      };
    </script>

    <script src="js/app.js" type="module"></script>
  </body>
</html>
